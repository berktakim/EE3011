---
layout: slides
title: Lecture 10 - EE 3011 Modelling and Control
---
	<section>
	  <div id="outline-container-org5a23be9" class="outline-2">
	    <h1 id="org5a23be9">Further Examples on Controller Design</h1>
	  </div>
	</section>
	<section>
	  <div id="outline-container-orgb14f724" class="outline-2">
	    <h3 id="orgb14f724">Example 1</h3>
	    <div class="outline-text-2" id="text-2">

	      <div class="figure" style="zoom:2;">
		<p><object type="image/svg+xml" data="assets/Lec10Example1Diagram.svg" class="org-svg">
		    Sorry, your browser does not support SVG.</object>
		</p>
	      </div>


	      <p>
		Design a lag or lead compensator \(C(s)\) such that the following specifications are met:
	      </p>
	      <ul class="org-ul">
		<li>The steady-state error due to a unit-step disturbance input \(D(s)\) is less that or equal to \(5\%\).</li>
		<li>The gain crossover frequency is at least \(12\) rad/s.</li>
		<li>The phase margin is no less than \(50^\circ\).</li>
	      </ul>
	    </div>
	  </div>

	</section>
	<section>
	  <div id="outline-container-org6aa1086" class="outline-2">
	    <h3 id="org6aa1086">Designing \(K\)</h3>
	    <div class="outline-text-2" id="text-3">
	      <ul class="org-ul">
		<li>The transfer function of the compensator is \[C(s) = K\frac{Ts+1}{\gamma Ts+1},\,\gamma > 0\]</li>
<li>The transfer function for the disturbance is (assuming \(R(s)=0\)) \[\frac{Y(s)}{D(s)}=\frac{G(s)}{1+C(s)G(s)}.\]</li>
</ul>
</div>
</div>

</section>
<section>
  <h3 id="org6aa1086">Designing \(K\)</h3>
  <ul>
    <li>If the disturbance is a unit step input, then \[Y(s) =\frac{G(s)}{s(1+C(s)G(s))}.\]</li>
    <li>The steady-state error is given by \[e_{ss}=-y(\infty) = -\lim_{s\rightarrow 0}sY(s) = -\frac{1}{K}\]</li>
    <li>To ensure that the error caused by disturbance is less than \(5\%\), we choose \(K = 1/0.05 = 20\).</li>
  </ul> 
</section>
<section>
  <div id="outline-container-orgce15f6c" class="outline-2">
    <h3 id="orgce15f6c">Draw the Bode Plot of \(KG(s)\)</h3>
    <div class="outline-text-2" id="text-4">

      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example1Bode.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>
</section>
<section>
  <div id="outline-container-org606a589" class="outline-2">
    <h3 id="org606a589">Select Compensator</h3>
    <div class="outline-text-2" id="text-5">
      <ul class="org-ul">
	<li>The gain crossover frequency of \(KG(s)\) is \(12.3\) rad/s and the phase margin is \(-154.6+180 = 25.4^\circ\).</li>
	<li>Since a lag compensator will result in a smaller gain crossover frequency, to meet the gain crossover frequency requirement, we shall adopt a lead compensator.</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-orgf20b65c" class="outline-2">
    <h3 id="orgf20b65c">Design \(\alpha\)</h3>
    <div class="outline-text-2" id="text-6">
	<p>The maximum phase lead we need is </p>\[\phi = 50^\circ - 25.4^\circ + 10^\circ = 34.6^\circ.\]
	<p>\(\alpha\) can be derived from</p> \[\alpha = \frac{1-\sin 34.6^\circ}{1+\sin 34.6^\circ} = 0.2756.\]
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org3eb43c8" class="outline-2">
    <h3 id="org3eb43c8">Design \(T\)</h3>
    <div class="outline-text-2" id="text-7">
      <ul class="org-ul">
	<li>Using the straight line approximation, we know that between \(\omega = 10\) and \(\omega = 50\), the magnitude plot can be approximated by \[20\log 2+40-40 \log \omega.\]</li>
	<li>The new gain crossover frequency is \[20\log 2+40 - 40 \log \omega_g =10\log \alpha \Rightarrow \omega_g = 19.52.\]</li>
	<li>\(T\) can be computed as \[T = \frac{1}{\sqrt{\alpha}\omega_g} = 0.0976.\]</li>
	<li>The (lead) compensator is \[C(s) = 20 \frac{0.0976 s + 1}{0.0267s+1}.\]</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org939c1cc" class="outline-2">
    <h3 id="org939c1cc">Verification</h3>
    <div class="outline-text-2" id="text-8">
      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example1Bode2.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>

</section>
<section>
    <h3 id="org939c1cc">Verification</h3>
      <ul class="org-ul">
	<li>The phase margin is only \(-133.7+180 = 46.7^\circ\), which is less than desired margin.</li>
	<li>This is because the phase goes down significantly when the gain crossover frequency is increased. Need to increase the phase lead.</li>
      </ul>
</section>
<section>
  <div id="outline-container-org1087bb8" class="outline-2">
    <h3 id="org1087bb8">Step Response</h3>
    <div class="outline-text-2" id="text-9">

      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example1Step.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>
</section>
<section>
    <h3 id="org1087bb8">Step Response</h3>
      <ul class="org-ul">
	<li>The original system response is very slow.</li>
	<li>After changing \(K\) to \(20\), the system response faster (also the steady state error is reduced). However, the overshoot is \(50\%\).</li>
	<li>By adding the lead-compensator, we can reduce the overshoot to \(20\%\).</li>
      </ul>
</section>
<section>
  <div id="outline-container-orgc25a71d" class="outline-2">
    <h3 id="orgc25a71d">Example 2</h3>
    <div class="outline-text-2" id="text-10">

      <div class="figure" style="zoom:2;">
	<p><object type="image/svg+xml" data="assets/Lec10Example2Diagram.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>

      <p>
	Design a lead of lag compensator so that the following specifications are satisfied:
      </p>
      <ul class="org-ul">
	<li>The steady-state error due to a unit step disturbance is no more than \(1\%\).</li>
	<li>The phase margin is no less than \(50^\circ\).</li>
	<li>The gain crossover frequency is between \(4\) and \(10\) rad/s.</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org7b47bf6" class="outline-2">
    <h3 id="org7b47bf6">Designing \(K\)</h3>
    <div class="outline-text-2" id="text-11">
      <ul class="org-ul">
	<li>The transfer function of the compensator is \[C(s) = K\frac{Ts+1}{\gamma Ts+1},\,\gamma > 0\]</li>
	<li>The transfer function for the disturbance is (assuming \(R(s)=0\)) \[\frac{Y(s)}{D(s)}=\frac{G(s)}{1+C(s)G(s)}.\]</li>
      </ul>
    </div>
  </div>

</section>
<section>
    <h3 id="org7b47bf6">Designing \(K\)</h3>
 <ul>
	<li>If the disturbance is a unit step input, then \[Y(s) =\frac{G(s)}{s(1+C(s)G(s))}.\]</li>
	<li>The steady-state error is given by \[e_{ss}=-y(\infty) = -\lim_{s\rightarrow 0}sY(s) = -\frac{1}{K}.\]</li>
	<li>To ensure that the error caused by disturbance is less than \(1\%\), we choose \(K = 1/0.01 = 100\).</li>
 </ul> 
</section>
<section>
  <div id="outline-container-orgbb726e1" class="outline-2">
    <h3 id="orgbb726e1">Draw the Bode Plot of \(KG(s)\)</h3>
    <div class="outline-text-2" id="text-12">

      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example2Bode.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>
</section>
<section>
  <div id="outline-container-org81f0d4a" class="outline-2">
    <h3 id="org81f0d4a">Select Compensator</h3>
    <div class="outline-text-2" id="text-13">
      <ul class="org-ul">
	<li>The gain crossover frequency of \(KG(s)\) is \(\approx 40\) rad/s.</li>
	<li>Since a lead compensator will result in a larger gain crossover frequency, to meet the gain crossover frequency requirement, we shall adopt a lag compensator.</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org6a5a8e3" class="outline-2">
    <h3 id="org6a5a8e3">Design \(\beta\)</h3>
    <div class="outline-text-2" id="text-14">
      <ul class="org-ul">
	<li>We need to find a frequency \(\omega_g\) where the phase is \(50-180+5= -125^\circ\).</li>
	<li>From the phase plot, we choose \(\omega_g = 5\) rad/s.</li>
	<li>Using the straight line approximation, we know that when \(\omega < 10\) and \(\omega = 50\), the magnitude plot can be approximated by \[20\log 200-20 \log \omega.\]</li>
										<li>\(\beta\) can be calculated as \[20\log\beta =20\log 200-20\log \omega \Rightarrow \beta = 40. \]</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org9c8af7d" class="outline-2">
    <h3 id="org9c8af7d">Design \(T\)</h3>
    <div class="outline-text-2" id="text-15">
      <ul class="org-ul">
	<li>We choose \(T = 10/\omega_g = 2\).</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org6fe7c66" class="outline-2">
    <h3 id="org6fe7c66">Verification</h3>
    <div class="outline-text-2" id="text-16">

      <div class="figure" style="zoom:1.3">
	<p><object type="image/svg+xml" data="assets/Lec10Example2Bode2.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
      <ul class="org-ul">
	<li>The phase margin is \(-125.8+180 = 54.2^\circ\), which satisfies the specification.</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-orga01b732" class="outline-2">
    <h3 id="orga01b732">Step Response</h3>
    <div class="outline-text-2" id="text-17">

      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example2Step.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org9698062" class="outline-2">
    <h3 id="org9698062">Example 3</h3>
    <div class="outline-text-2" id="text-18">
      <p>
	Consider the plant as shown in the figure. Determine the values of PID parameters using the Ziegler-Nichols rules. Make fine tuning to achieve the maximum overshoot of \(25\%\)
      </p>

      <div class="figure" style="zoom:2;">
	<p><object type="image/svg+xml" data="assets/Lec10Example3Diagram.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-orge741a37" class="outline-2">
    <h3 id="orge741a37">Self-Oscillation Method</h3>
    <div class="outline-text-2" id="text-19">
      <ul class="org-ul">
	<li>Since there is an integrator in the plant, the first method is not applicable (the open-loop step response will not plateau)</li>
	<li>The transfer function of the plant is given, we need to find the gain margin and phase crossover frequency: \[\angle\frac{1}{j\omega_\phi(j\omega_\phi+1)(j\omega_\phi+5)} = -180^\circ \]</li>
	<li>Using the property of complex numbers: \[\angle \left(5-\omega_\phi^2 + 6\omega_\phi j\right)  = 90^\circ \Rightarrow \omega_\phi = \sqrt{5}.\]</li>
      </ul>
    </div>
  </div>

</section>
<section>
  <h3>Critical Gain and Period</h3>
	<p>The critical period is </p>\[P_{cr} = 2\pi/\sqrt{5} = 2.8099.\]
	<p>The gain margin (critical gain) is </p>\[K_{cr} =\sqrt{5}\times \sqrt{6}\times \sqrt{30} = 30.\]
</section>
<section>
  <div id="outline-container-org0c46af7" class="outline-2">
    <h3 id="org0c46af7">Bode Plot</h3>
    <div class="outline-text-2" id="text-20">

      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example3Bode.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>

</section>
<section>
  <div id="outline-container-org7001da4" class="outline-2">
    <h3 id="org7001da4">PID Tuning</h3>
    <div class="outline-text-2" id="text-21">
      <ul class="org-ul">
	<li>From the table of Ziegler-Nichols methods, we have \[K_p =  18,\,T_i =  1.405,\,T_d =  0.351.\]</li>
	<li>The step response of the closed-loop system with the designed PID is shown as the blue line. The maximum overshoot is \(60\%\).</li>
	<li>To reduce the maximum overshoot, we <b>increase</b> \(T_i\) and \(T_d\), for example:
	  <ul class="org-ul">
	    <li>Red Line: \(K_p = 18,\,T_i =2.81 ,\,T_d =  0.702.\)</li>
	    <li>Black Line: \(K_p = 18,\,T_i =4.215 ,\,T_d =  1.053.\)</li>
	</ul></li>
      </ul>
    </div>
  </div>
</section>
<section>
  <div id="outline-container-org32b2a5c" class="outline-2">
    <h3 id="org32b2a5c">Step Response</h3>
    <div class="outline-text-2" id="text-22">

      <div class="figure" style="zoom:1.5;">
	<p><object type="image/svg+xml" data="assets/Lec10Example3Step.svg" class="org-svg">
	    Sorry, your browser does not support SVG.</object>
	</p>
      </div>
    </div>
  </div>
</section>
